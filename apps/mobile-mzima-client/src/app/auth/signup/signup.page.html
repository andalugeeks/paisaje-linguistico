<ion-content class="page ion-padding-vertical" [fullscreen]="true">
  <ion-title class="page-title ion-text-center ion-margin-bottom">¡Te damô la biembenía"</ion-title>
  <div class="main ion-padding-horizontal">
    <app-deployment-info (deploymentClick)="chooseDeployment()"></app-deployment-info>
    <form class="form" novalidate [formGroup]="form" (ngSubmit)="signUp()">
      <div>
        <div class="input-group">
          <app-form-control
            label="Nombre"
            [required]="true"
            formControlName="name"
            placeholder="Mete tu nombre"
            hint="Er nombre q'introdûccâ çe môttrará como informaçión del uçuario"
            [errors]="fieldErrorMessages(form.controls['name'], 'name')"
          >
          </app-form-control>
          <app-form-control
            type="email"
            label="Email"
            [required]="true"
            formControlName="email"
            placeholder="Mete tu correo elêttrónico"
            [errors]="fieldErrorMessages(form.controls['email'], 'email')"
          >
          </app-form-control>
          <app-form-control
            type="password"
            label="Contraçeña"
            [required]="true"
            [togglePassword]="true"
            formControlName="password"
            placeholder="Mete contraçeña"
            [errors]="fieldErrorMessages(form.controls['password'], 'password')"
            [hint]="!form.controls['password'].value?.length ? 'La contraçeña debe tenêh como mínimo 8 carâtterê, una letra minúccula, una mayúccula, un número y un çímbolo.' : undefined"
          >
            <app-password-strength
              additional
              *ngIf="form.controls['password'].value?.length"
              class="password-strength"
              [passwordToCheck]="form.value.password ?? ''"
            ></app-password-strength>
          </app-form-control>
        </div>
        <div class="agreement">
          <app-checkbox formControlName="agreement">
            Êtta aplicaçión a çío deçarroyá çobre Ushahidi Platform. Pa continuâh debê êttâh
            d'acuerdo con çu
            <a (click)="openLink($event, 'Privacy Policy')">Política de Pribaçiá</a>
            y çû <br />
            <a (click)="openLink($event, 'Privacy Policy')">Términô y Condiçionê</a>.
          </app-checkbox>
        </div>
        <ion-text *ngIf="signupError?.length" class="form-error ion-text-center" color="danger">
          {{ signupError }}
        </ion-text>
      </div>

      <div class="bottom-panel">
        <app-button
          type="submit"
          [disabled]="form.invalid || form.disabled || !form.controls['agreement'].value"
        >
          Rehîttrarçe
        </app-button>
        <app-button class="ion-margin-top" fill="clear" color="medium" routerLink="/">
          Çartarçe êtto por aora
        </app-button>
      </div>
    </form>
  </div>
</ion-content>
